(function(a,b){if(typeof define==="function"&&define.amd){define(["jquery","dialog"],function(d,c){return(b(d,c))})}else{if(typeof module==="object"&&module.exports){module.exports=b(require("jquery"))}else{b(a["jQuery"])}}}(this,function(z,K){var G=".rs.jquery.bootgrid";function t(Q){var P=this;function O(R){return P.identifier&&R[P.identifier]===Q[P.identifier]}if(!this.rows.contains(O)){this.rows.push(Q);return true}return false}function M(O){var Q=(this.footer)?this.footer.find(O):z(),P=(this.header)?this.header.find(O):z();return z.merge(Q,P)}function y(O){return(O)?z.extend({},this.cachedParams,{ctx:O}):this.cachedParams}function u(){var Q=this;if(!z.isEmptyObject(Q.initParamColsort)){z.each(Q.initParamColsort,function(T,S){z.each(Q.columns,function(U,V){if(V.sortableColumn==T){Q.sortDictionary[V.id]=S}})})}var R={};if(Q.sortDictionary){z.each(Q.sortDictionary,function(T,S){var U={};z.each(Q.columns,function(W,X){if(X.id==T){U=X;return false}});var V=U.sortableColumn;if(V!==""){R[V]=S}})}var P={current:this.current,rowCount:this.rowCount,colsort:R,limitCount:this.limitCount,searchPhrase:this.searchPhrase},O=this.options.post;O=(z.isFunction(O))?O():O;if(!this.options.emptyPost){if(z.isEmptyObject(O)){return false}}return this.options.requestHandler(z.extend(true,P,O))}function j(O){return"."+z.trim(O).replace(/\s+/gm,".")}function N(){var O=this.options.url;return(z.isFunction(O))?O():O}function L(){if(this.options.ajax){p.call()}this.element.trigger("initialize"+G);w.call(this);x.call(this);this.selection=this.options.selection&&this.identifier!=null;i.call(this);a.call(this);m.call(this);E.call(this);F.call(this);l.call(this);this.element.trigger("initialized"+G)}function r(O){if(this.options.highlightRows){}}function e(O){return O.visible}function x(){var P=this,Q=this.element.find("thead > tr").first(),O=false;Q.children().each(function(){var T=z(this),S=T.data(),R={id:S.columnId,identifier:P.identifier==null&&S.identifier||false,converter:P.options.converters[S.converter||S.type]||P.options.converters["string"],text:T.text(),align:S.align||"left",headerAlign:S.headeralign||"center",cssClass:S.cssclass||"",headerCssClass:S.headercssclass||"",formatter:P.options.formatters[S.formatter]||null,order:(!O&&(S.order==="asc"||S.order==="desc"))?S.order:null,searchable:!(S.searchable===false),sortable:(S.sortable===true),sortableColumn:(S.sortable===true&&typeof S.sortableColumn!=="undefined"&&S.sortableColumn!=="")?S.sortableColumn:"",visible:!(S.visible===false),visibleInSelection:!(S.visibleinselection===false),width:(z.isNumeric(S.width))?S.width+"px":(typeof(S.width)==="string")?S.width:null,visibletitle:S.visibletitle||false};P.columns.push(R);if(R.order!=null){P.sortDictionary[R.id]=R.order}if(R.identifier){P.identifier=R.id;P.converter=R.converter}if(!P.options.multiSort&&R.order!=null){O=true}})}function l(){var T=this;this.element._bgBusyAria(true).trigger("load"+G);if(this.options.ajax){p.call()}function O(Z){var X,Y=new RegExp(T.searchPhrase,(T.options.caseSensitive)?"g":"gi");for(var W=0;W<T.columns.length;W++){X=T.columns[W];if(X.searchable&&X.visible&&X.converter.to(Z[X.id]).search(Y)>-1){return true}}if(this.options.ajax){q.call()}return false}function V(X,W){T.currentRows=X;f.call(T,W);if(!T.options.keepSelection){T.selectedRows=[];T.selectedRowsObj=[]}T.initParamColsort={};n.call(T,X);v.call(T);c.call(T);s.call(T);T.element._bgBusyAria(false).trigger("loaded"+G)}if(this.options.ajax){var S=u.call(this),P=N.call(this);if(!S){q.call();return false}if(P==null||typeof P!=="string"||P.length===0){throw new Error("Url setting must be a none empty string or a function that returns one.")}if(this.xqr){this.xqr.abort()}var Q={url:P,data:JSON.stringify(S),datatype:"json",contentType:"application/json; charset=utf-8",success:function(W,Y){T.xqr=null;if(typeof(W)==="string"){try{W=z.parseJSON(W)}catch(X){q.call();K.alert("数据处理异常");return}}W=T.options.responseHandler(W);T.current=W.current;V(W.rows,W.total);q.call()},error:function(W,Y,X){q.call();if("4081"==W.status){K.alert({message:"登陆超时，请重新登录",callback:function(Z){window.location.href=webAppPath+"/login"}})}T.xqr=null;if(Y!=="abort"){b.call(T);T.element._bgBusyAria(false).trigger("loaded"+G)}}};Q=z.extend(this.options.ajaxSettings,Q);this.xqr=z.ajax(Q)}else{var U=(this.searchPhrase.length>0)?this.rows.where(O):this.rows,R=U.length;if(this.rowCount!==-1){U=U.page(this.current,this.rowCount)}window.setTimeout(function(){V(U,R)},10)}}function i(){if(!this.options.ajax){var O=this,P=this.element.find("tbody > tr");P.each(function(){var R=z(this),Q=R.children("td"),S={};z.each(O.columns,function(T,U){S[U.id]=U.converter.from(Q.eq(T).text())});t.call(O,S)});f.call(this,this.rows.length);g.call(this)}}function f(O){this.total=O;this.totalPages=(this.rowCount===-1)?1:Math.ceil(this.total/this.rowCount)}function a(){var O=this.options.templates,P=(this.element.parent().hasClass(this.options.css.responsiveTable)||this.element.parent().hasClass(this.options.css.fixedTable))?this.element.parent():this.element;this.element.addClass(this.options.css.table);if(this.element.children("tbody").length===0){this.element.append(O.body)}if(this.options.navigation&1){this.header=z(O.header.resolve(y.call(this,{id:this.element._bgId()+"-header"})));P.before(this.header)}if(this.options.navigation&2){this.footer=z(O.footer.resolve(y.call(this,{id:this.element._bgId()+"-footer"})));P.after(this.footer)}}function F(){if(this.options.navigation!==0){var S=this.options.css,O=j(S.actions),Q=M.call(this,O);if(Q.length>0){var U=this,P=this.options.templates,V=z(P.actions.resolve(y.call(this)));if(this.options.ajax&&this.options.refreshButton){var R=P.icon.resolve(y.call(this,{iconCss:S.iconRefresh})),T=z(P.actionButton.resolve(y.call(this,{content:R,text:this.options.labels.refresh}))).on("click"+G,function(W){W.stopPropagation();U.current=1;l.call(U)});V.append(T)}if(this.options.rowCountSelection){B.call(this,V)}if(this.options.limitCountSelection){H.call(this,V)}D.call(this,V);J.call(this,Q,V)}}}function D(S){if(this.options.columnSelection&&this.columns.length>1){var U=this,T=this.options.css,V=this.options.templates,W=V.icon.resolve(y.call(this,{iconCss:T.iconColumns})),Q=z(V.actionDropDown.resolve(y.call(this,{content:W,title:this.options.labels.columnSelection}))),P=j(T.dropDownItem),R=j(T.dropDownItemCheckbox),O=j(T.dropDownMenuItems);z.each(this.columns,function(X,Y){if(Y.visibleInSelection){var Z=z(V.actionDropDownCheckboxItem.resolve(y.call(U,{name:Y.id,label:Y.text,checked:Y.visible}))).on("click"+G,P,function(ad){ad.stopPropagation();var ac=z(this),ab=ac.find(R);if(!ab.prop("disabled")){Y.visible=ab.prop("checked");var aa=U.columns.where(e).length>1;ac.parents(O).find(P+":has("+R+":checked)")._bgEnableAria(aa).find(R)._bgEnableField(aa);U.element.find("tbody").empty();m.call(U);l.call(U)}});Q.find(j(T.dropDownMenuItems)).append(Z)}});S.append(Q)}}function v(){if(this.options.navigation!==0){var O=j(this.options.css.infos),Q=M.call(this,O);if(Q.length>0){var P=(this.current*this.rowCount),R=z(this.options.templates.infos.resolve(y.call(this,{end:(this.total===0||P===-1||P>this.total)?this.total:P,start:(this.total===0)?0:(P-this.rowCount+1),total:this.total})));J.call(this,Q,R)}}}function b(){var R=this.element.children("tbody").first(),Q=this.options.templates,T=this.columns.where(e).length;if(this.selection){T=T+1}var P=this.element.parent(".table-fixed").width()/2-70;var S="padding-left:"+P+"px;text-align:left";var O=Q.noResults.resolve(y.call(this,{columns:T,noResultsStyle:S}));R.html(O)}function s(){if(this.options.navigation!==0){var Q=j(this.options.css.pagination),S=M.call(this,Q)._bgShowAria(this.rowCount!==-1),V=this.options.css,U=this.options.labels;if(this.rowCount!==-1&&S.length>0){var Y=this.options.templates,Z=this.current,X=this.totalPages,ac=z(Y.pagination.resolve(y.call(this))),R=X-Z,O=(this.options.padding-Z)*-1,ab=((R>=this.options.padding)?Math.max(O,1):Math.max((O-this.options.padding+R),1)),P=this.options.padding*2+1,W=(X>=P)?P:X;k.call(this,ac,"first",V.paginationFirst,"first",U.paginationFirst)._bgEnableAria(Z>1);k.call(this,ac,"prev",V.paginationPrev,"prev",U.paginationPrev)._bgEnableAria(Z>1);for(var T=0;T<W;T++){var aa=T+ab;k.call(this,ac,aa,aa,"page-"+aa,"")._bgEnableAria()._bgSelectAria(aa===Z)}if(W===0){k.call(this,ac,1,1,"page-"+1,"")._bgEnableAria(false)._bgSelectAria()}k.call(this,ac,"next",V.paginationNext,"next",U.paginationNext)._bgEnableAria(X>Z);k.call(this,ac,"last",V.paginationLast,"last",U.paginationLast)._bgEnableAria(X>Z);J.call(this,S,ac)}}}function k(S,T,W,O,U){var Q=this,R=this.options.templates,P=this.options.css,V=y.call(this,{css:O,text:W,page:T,title:U}),X=z(R.paginationItem.resolve(V)).on("click"+G,j(P.paginationButton),function(ab){ab.stopPropagation();ab.preventDefault();var aa=z(this),Y=aa.parent();if(!Y.hasClass("active")&&!Y.hasClass("disabled")){var Z={first:1,prev:Q.current-1,next:Q.current+1,last:Q.totalPages};var ac=aa.data("page");Q.current=Z[ac]||ac;l.call(Q)}aa.trigger("blur")});S.append(X);return X}function H(S){var U=this,Q=this.options.limitCount;function Y(Z){return(Z===-1)?U.options.labels.all:Z}if(z.isArray(Q)){var T=this.options.css,V=this.options.templates,R=z(V.actionDropDown.resolve(y.call(this,{content:Y(this.limitCount),title:this.options.labels.limitCountSelection}))),O=j(T.dropDownMenu),P=j(T.dropDownMenuText),X=j(T.dropDownMenuItems),W=j(T.dropDownItemButton);z.each(Q,function(Z,ab){var aa=z(V.actionDropDownItem.resolve(y.call(U,{text:Y(ab),action:ab})))._bgSelectAria(ab===U.limitCount).on("click"+G,W,function(ae){ae.preventDefault();var ad=z(this),ac=ad.data("action");if(ac!==U.limitCount){U.current=1;U.limitCount=ac;ad.parents(X).children().each(function(){var af=z(this),ag=af.find(W).data("action");af._bgSelectAria(ag===ac)});ad.parents(O).find(P).text(Y(ac));l.call(U)}});R.find(X).append(aa)});S.append(R)}}function B(R){var T=this,X=this.options.rowCount;function Y(Z){return(Z===-1)?T.options.labels.all:Z}if(z.isArray(X)){var S=this.options.css,U=this.options.templates,Q=z(U.actionDropDown.resolve(y.call(this,{content:Y(this.rowCount),title:this.options.labels.rowCountSelection}))),O=j(S.dropDownMenu),P=j(S.dropDownMenuText),W=j(S.dropDownMenuItems),V=j(S.dropDownItemButton);z.each(X,function(Z,ab){var aa=z(U.actionDropDownItem.resolve(y.call(T,{text:Y(ab),action:ab})))._bgSelectAria(ab===T.rowCount).on("click"+G,V,function(ae){ae.preventDefault();var ad=z(this),ac=ad.data("action");if(ac!==T.rowCount){T.current=1;T.rowCount=ac;ad.parents(W).children().each(function(){var af=z(this),ag=af.find(V).data("action");af._bgSelectAria(ag===ac)});ad.parents(O).find(P).text(Y(ac));l.call(T)}});Q.find(W).append(aa)});R.append(Q)}}function w(){var O=this;if(!O.element.closest(".table-fixed").length){O.element.wrap('<div class="table-fixed"></div>');O.element.css({"margin-bottom":"0"})}}function n(U){if(typeof(U)!="undefined"&&U.length>0){var T=this,S=this.options.css,Q=this.options.templates,P=this.element.children("tbody").first(),O=true,R="";z.each(U,function(Y,ab){var X="",V=' data-row-id="'+((T.identifier==null)?Y:ab[T.identifier])+'"',ac="";if(T.selection){var Z=(z.inArray(ab[T.identifier],T.selectedRows)!==-1),aa=Q.select.resolve(y.call(T,{type:"checkbox",value:ab[T.identifier],checked:Z}));X+=Q.cell.resolve(y.call(T,{content:aa,css:S.selectCell,title:""}));O=(O&&Z);if(Z){ac+=S.selected;V+=' aria-selected="true"'}}var W=ab.status!=null&&T.options.statusMapping[ab.status];if(W){ac+=W}z.each(T.columns,function(ai,ag){if(ag.visible){var ae=ag.converter.to(ab[ag.id]);var ad=(z.isFunction(ag.formatter))?ag.formatter.call(T,ag,ab):ae,al=(ag.cssClass.length>0)?" "+ag.cssClass:"";var ak,aj;if(typeof(ad)=="object"){aj=ad.title;ak=ad.a}else{ak=ad;aj=((typeof(ae)=="string")?ae:ak)}aj=(typeof aj!=="undefined")?aj:"";var af="";try{af=(z(ak).is("select")||z(ak).hasClass("btn-group"))?"overflow: visible;":""}catch(ah){}X+=Q.cell.resolve(y.call(T,{content:(ak==null||ak==="")?"&nbsp;":ak,css:((ag.align==="right")?S.right:(ag.align==="center")?S.center:S.left)+al,title:(ag.visibletitle)?aj:"",style:((ag.width==null||ag.width==="")?"":"width:"+ag.width+";")+af}))}});if(ac.length>0){V+=' class="'+ac+'"'}R+=Q.row.resolve(y.call(T,{attr:V,cells:X}))});T.element.find("thead "+j(T.options.css.selectBox)).prop("checked",O);P.html(R);o.call(this,P)}else{b.call(this)}}function o(O){var Q=this,P=j(this.options.css.selectBox);if(this.selection){O.off("click"+G,P).on("click"+G,P,function(S){S.stopPropagation();var R=z(this),T=Q.converter.from(R.val());if(R.prop("checked")){Q.select([T])}else{Q.deselect([T])}})}O.off("click"+G,"> tr").on("click"+G,"> tr",function(S){var R=z(this),U=(Q.identifier==null)?R.data("row-id"):Q.converter.from(R.data("row-id")+""),T=(Q.identifier==null)?Q.currentRows[U]:Q.currentRows.first(function(V){return V[Q.identifier]===U});if(Q.selection&&Q.options.rowSelect){if(R.hasClass(Q.options.css.selected)){Q.deselect([U])}else{Q.select([U])}}Q.element.trigger("click"+G,[Q.columns,T])})}function E(){if(this.options.navigation!==0){var Q=this.options.css,P=j(Q.search),V=M.call(this,P);if(V.length>0){var R=this,S=this.options.templates,O=null,U="",T=j(Q.searchField),X=z(S.search.resolve(y.call(this))),W=(X.is(T))?X:X.find(T);W.on("keyup"+G,function(Z){Z.stopPropagation();var Y=z(this).val();if(U!==Y||(Z.which===13&&Y!=="")){U=Y;if(Z.which===13||Y.length===0||Y.length>=R.options.searchSettings.characters){window.clearTimeout(O);O=window.setTimeout(function(){C.call(R,Y)},R.options.searchSettings.delay)}}});J.call(this,V,X)}}}function C(O){if(this.searchPhrase!==O){this.current=1;this.searchPhrase=O;l.call(this)}}function m(){var T=this,U=this.element.find("thead > tr"),S=this.options.css,V=this.options.templates,Q="",P=this.options.sorting;if(this.selection){var W=(this.options.multiSelect)?V.select.resolve(y.call(T,{type:"checkbox",value:"all"})):"";Q+=V.rawHeaderCell.resolve(y.call(T,{content:W,css:S.selectCell}))}z.each(this.columns,function(Y,ab){if(ab.visible){var aa=T.sortDictionary[ab.id],ac=((P&&aa&&aa==="asc")?S.iconUp:(P&&aa&&aa==="desc")?S.iconDown:""),Z=V.icon.resolve(y.call(T,{iconCss:ac})),ad=ab.headerAlign,X=(ab.headerCssClass.length>0)?" "+ab.headerCssClass:"";Q+=V.headerCell.resolve(y.call(T,{column:ab,icon:Z,sortable:P&&ab.sortable&&S.sortable||"",css:((ad==="right")?S.right:(ad==="center")?S.center:S.left)+X,style:(ab.width==null||ab.width==="")?"":"width:"+ab.width+";"}))}});U.html(Q);if(P){var R=j(S.sortable);U.off("click"+G,R).on("click"+G,R,function(X){X.preventDefault();d.call(T,z(this));g.call(T);l.call(T)})}if(this.selection&&this.options.multiSelect){var O=j(S.selectBox);U.off("click"+G,O).on("click"+G,O,function(X){X.stopPropagation();if(z(this).prop("checked")){T.select()}else{T.deselect()}})}}function d(R){var Q=this.options.css,V=j(Q.icon),U=R.data("column-id")||R.parents("th").first().data("column-id"),T=this.sortDictionary[U],S=R.find(V);if(!this.options.multiSort){R.parents("tr").first().find(V).removeClass(Q.iconDown+" "+Q.iconUp);this.sortDictionary={}}if(T&&T==="asc"){this.sortDictionary[U]="desc";S.removeClass(Q.iconUp).addClass(Q.iconDown)}else{if(T&&T==="desc"){if(this.options.multiSort){var O={};for(var P in this.sortDictionary){if(P!==U){O[P]=this.sortDictionary[P]}}this.sortDictionary=O;S.removeClass(Q.iconDown)}else{this.sortDictionary[U]="asc";S.removeClass(Q.iconDown).addClass(Q.iconUp)}}else{this.sortDictionary[U]="asc";S.addClass(Q.iconUp)}}}function J(P,O){P.each(function(Q,R){z(R).before(O.clone(true)).remove()})}function p(){K.showLoading("正在查询...")}function q(){K.closeLoading()}function g(){var Q=[];function P(S,X,W){W=W||0;var U=W+1,V=Q[W];function T(Y){return(V.order==="asc")?Y:Y*-1}return(S[V.id]>X[V.id])?T(1):(S[V.id]<X[V.id])?T(-1):(Q.length>U)?P(S,X,U):0}if(!this.options.ajax){var R=this;for(var O in this.sortDictionary){if(this.options.multiSort||Q.length===0){Q.push({id:O,order:this.sortDictionary[O]})}}if(Q.length>0){this.rows.sort(P)}}}function c(){var O=this;if(O.options.colResizable){z(O.element).css({"table-layout":"auto"});var P=function(){var T=O.element;var U=z(".table-fixed").width();var S=T.find(">thead>tr:first>th,>thead>tr:first>td");var Q=T.find("tbody>tr");S=S.filter(":visible");var R=0;z.each(S,function(Z,ad){var V=z(this);var aa=V.outerWidth(true);var ac=z.trim(V.text());var W=0;for(var Y=0;Y<ac.length;Y++){var ab=ac.charAt(Y);if(/^[\u0000-\u00ff]$/.test(ab)){W+=1}else{W+=2}}var X=W*6+16+2+30;if(X>aa){V.css({"min-width":X+"px"})}else{if(aa>200){}}})};P();return}}var A=function(Q,P){this.element=z(Q);this.origin=this.element.clone();this.options=z.extend(true,{},A.defaults,this.element.data(),P);var O=this.options.rowCount=this.element.data().rowCount||P.rowCount||this.options.rowCount;this.columns=[];this.current=1;this.currentRows=[];this.identifier=null;this.selection=false;this.converter=null;this.rowCount=(z.isArray(O))?O[0]:O;this.limitCount=this.options.limitCountSelection?this.options.limitCount[0]:-1;this.initParamColsort={};this.rows=[];this.searchPhrase="";this.selectedRows=[];this.selectedRowsObj=[];this.sortDictionary={};this.total=0;this.totalPages=0;this.cachedParams={lbl:this.options.labels,css:this.options.css,ctx:{}};this.header=null;this.footer=null;this.xqr=null;if(!z.isEmptyObject(P.initParam)){this.current=typeof P.initParam.current!=="undefined"?P.initParam.current:1;this.rowCount=typeof P.initParam.rowCount!=="undefined"?P.initParam.rowCount:((z.isArray(O))?O[0]:O);this.initParamColsort=typeof P.initParam.colsort!=="undefined"?P.initParam.colsort:{}}};A.defaults={navigation:2,padding:2,columnSelection:true,refreshButton:true,rowCountSelection:true,limitCountSelection:true,rowCount:[10,25,50,-1],limitCount:[500,5000,50000,-1],selection:false,multiSelect:false,rowSelect:false,keepSelection:false,highlightRows:false,sorting:true,multiSort:false,searchSettings:{delay:250,characters:1},ajax:false,ajaxSettings:{method:"POST"},post:{},url:"",caseSensitive:true,requestHandler:function(O){return O},responseHandler:function(O){return O},converters:{numeric:{from:function(O){return +O},to:function(O){return O+""}},string:{from:function(O){return O},to:function(O){return z("<span>").text(O).html()}}},css:{actions:"actions btn-group",center:"text-center",columnHeaderAnchor:"column-header-anchor",columnHeaderText:"text",dropDownItem:"dropdown-item",dropDownItemButton:"dropdown-item-button",dropDownItemCheckbox:"dropdown-item-checkbox",dropDownMenu:"dropdown btn-group",dropDownMenuItems:"dropdown-menu pull-right",dropDownMenuText:"dropdown-text",footer:"bootgrid-footer",header:"bootgrid-header",icon:"icon glyphicon",iconColumns:"glyphicon-th-list",iconDown:"glyphicon-chevron-down",iconRefresh:"glyphicon-refresh",iconSearch:"glyphicon-search",iconUp:"glyphicon-chevron-up",infos:"text-default",left:"text-left",pagination:"pagination",paginationButton:"button",paginationFirst:"<i class='fa fa-angle-double-left' aria-hidden='true'></i>",paginationPrev:"<i class='fa fa-angle-left' aria-hidden='true'></i>",paginationNext:"<i class='fa fa-angle-right' aria-hidden='true'></i>",paginationLast:"<i class='fa fa-angle-double-right' aria-hidden='true'></i>",responsiveTable:"table-responsive",fixedTable:"table-fixed",right:"text-right",search:"search form-group",searchField:"search-field form-control",selectBox:"select-box",selectCell:"select-cell",selected:"active",sortable:"sortable",table:"bootgrid-table table"},formatters:{},labels:{all:"全部",infos:"显示 {{ctx.start}} 到 {{ctx.end}} 条， 共 {{ctx.total}} 条记录",loading:"正在查询中...",noResults:"没有找到符合条件的记录！",refresh:"刷新数据",limitCountSelection:"查询记录最大数",rowCountSelection:"每页显示记录数",columnSelection:"显示或隐藏列",paginationFirst:"首页",paginationPrev:"上一页",paginationNext:"下一页",paginationLast:"末页",search:"Search"},statusMapping:{0:"success",1:"info",2:"warning",3:"danger"},templates:{actionButton:'<button class="btn btn-default" type="button" title="{{ctx.text}}">{{ctx.content}}</button>',actionDropDown:'<div class="{{css.dropDownMenu}}"><button class="btn btn-default dropdown-toggle" type="button" data-toggle="dropdown" title="{{ctx.title}}"><span class="{{css.dropDownMenuText}}">{{ctx.content}}</span> <span class="caret"></span></button><ul class="{{css.dropDownMenuItems}}" role="menu"></ul></div>',actionDropDownItem:'<li><a data-action="{{ctx.action}}" class="{{css.dropDownItem}} {{css.dropDownItemButton}}">{{ctx.text}}</a></li>',actionDropDownCheckboxItem:'<li><label class="{{css.dropDownItem}}"><input name="{{ctx.name}}" type="checkbox" value="1" class="{{css.dropDownItemCheckbox}}" {{ctx.checked}} /> {{ctx.label}}</label></li>',actions:'<div class="{{css.actions}}"></div>',body:"<tbody></tbody>",cell:'<td class="{{ctx.css}}" style="{{ctx.style}}" title="{{ctx.title}}">{{ctx.content}}</td>',footer:'<div id="{{ctx.id}}" class="{{css.footer}}"><div class="row"><div class="col-xs-6"><p class="{{css.pagination}}"></p></div><div class="col-xs-6 infoBar"><p class="{{css.infos}}"></p><p class="{{css.actions}}"></p></div></div></div>',header:'<div id="{{ctx.id}}" class="{{css.header}}"><div class="row"><div class="col-xs-12 actionBar"><p class="{{css.search}}"></p><p class="{{css.actions}}"></p></div></div></div>',headerCell:'<th data-column-id="{{ctx.column.id}}" class="{{ctx.css}}" style="{{ctx.style}}"><a href="javascript:void(0);" class="{{css.columnHeaderAnchor}} {{ctx.sortable}}"><span class="{{css.columnHeaderText}}">{{ctx.column.text}}</span>{{ctx.icon}}</a></th>',icon:'<span class="{{css.icon}} {{ctx.iconCss}}"></span>',infos:'<span class="{{css.infos}}">{{lbl.infos}} </span>',loading:'<tr><td colspan="{{ctx.columns}}" class="loading">{{lbl.loading}}</td></tr>',noResults:'<tr><td colspan="{{ctx.columns}}" class="no-results" style="{{ctx.noResultsStyle}}">{{lbl.noResults}}</td></tr>',pagination:'<ul class="{{css.pagination}}"></ul>',paginationItem:'<li class="{{ctx.css}}" title="{{ctx.title}}"><a data-page="{{ctx.page}}" class="{{css.paginationButton}}">{{ctx.text}}</a></li>',rawHeaderCell:'<th class="{{ctx.css}}">{{ctx.content}}</th>',row:"<tr{{ctx.attr}}>{{ctx.cells}}</tr>",search:'<div class="{{css.search}}"><div class="input-group"><span class="{{css.icon}} input-group-addon {{css.iconSearch}}"></span> <input type="text" class="{{css.searchField}}" placeholder="{{lbl.search}}" /></div></div>',select:'<input name="select" type="{{ctx.type}}" class="{{css.selectBox}}" value="{{ctx.value}}" {{ctx.checked}} />'},colResizable:true};A.prototype.append=function(Q){if(this.options.ajax){}else{var O=[];for(var P=0;P<Q.length;P++){if(t.call(this,Q[P])){O.push(Q[P])}}g.call(this);r.call(this,O);l.call(this);this.element.trigger("appended"+G,[O])}return this};A.prototype.clear=function(){if(this.options.ajax){}else{var O=z.extend([],this.rows);this.rows=[];this.current=1;this.total=0;l.call(this);this.element.trigger("cleared"+G,[O])}return this};A.prototype.destroy=function(){z(window).off(G);if(this.options.navigation&1){this.header.remove()}if(this.options.navigation&2){this.footer.remove()}this.element.before(this.origin).remove();return this};A.prototype.reload=function(){this.current=1;l.call(this);return this};A.prototype.remove=function(O){if(this.identifier!=null){var S=this;if(this.options.ajax){}else{O=O||this.selectedRows;var T,R=[];for(var Q=0;Q<O.length;Q++){T=O[Q];for(var P=0;P<this.rows.length;P++){if(this.rows[P][this.identifier]===T){R.push(this.rows[P]);this.rows.splice(P,1);break}}}this.current=1;l.call(this);this.element.trigger("removed"+G,[R])}}return this};A.prototype.search=function(P){P=P||"";if(this.searchPhrase!==P){var O=j(this.options.css.searchField),Q=M.call(this,O);Q.val(P)}C.call(this,P);return this};A.prototype.select=function(O){if(this.selection){O=O||this.currentRows.propValues(this.identifier);var T,P,S=[];while(O.length>0&&!(!this.options.multiSelect&&S.length===1)){T=O.pop();if(z.inArray(T,this.selectedRows)===-1){for(P=0;P<this.currentRows.length;P++){if(this.currentRows[P][this.identifier]===T){S.push(this.currentRows[P]);this.selectedRows.push(T);this.selectedRowsObj.push(this.currentRows[P]);break}}}}if(S.length>0){var Q=j(this.options.css.selectBox),R=this.selectedRows.length>=this.currentRows.length;P=0;while(!this.options.keepSelection&&R&&P<this.currentRows.length){R=(z.inArray(this.currentRows[P++][this.identifier],this.selectedRows)!==-1)}this.element.find("thead "+Q).prop("checked",R);if(!this.options.multiSelect){this.element.find("tbody > tr "+Q+":checked").not("input[value='"+T+"']").trigger("click"+G)}for(P=0;P<this.selectedRows.length;P++){this.element.find('tbody > tr[data-row-id="'+this.selectedRows[P]+'"]').addClass(this.options.css.selected)._bgAria("selected","true").find(Q).prop("checked",true)}this.element.trigger("selected"+G,[S])}}return this};A.prototype.deselect=function(O){if(this.selection){O=O||this.currentRows.propValues(this.identifier);var U,R,T,P=[];while(O.length>0){U=O.pop();T=z.inArray(U,this.selectedRows);if(T!==-1){for(R=0;R<this.currentRows.length;R++){if(this.currentRows[R][this.identifier]===U){var Q=z.inArray(this.currentRows[R],this.selectedRowsObj);P.push(this.currentRows[R]);this.selectedRows.splice(T,1);this.selectedRowsObj.splice(T,1);break}}}}if(P.length>0){var S=j(this.options.css.selectBox);this.element.find("thead "+S).prop("checked",false);for(R=0;R<P.length;R++){this.element.find('tbody > tr[data-row-id="'+P[R][this.identifier]+'"]').removeClass(this.options.css.selected)._bgAria("selected","false").find(S).prop("checked",false)}this.element.trigger("deselected"+G,[P])}}return this};A.prototype.sort=function(P){var O=(P)?z.extend({},P):{};if(O===this.sortDictionary){return this}this.sortDictionary=O;m.call(this);g.call(this);l.call(this);return this};A.prototype.getColumnSettings=function(){return z.merge([],this.columns)};A.prototype.getCurrentPage=function(){return this.current};A.prototype.getCurrentRows=function(){return z.merge([],this.currentRows||[])};A.prototype.getRowCount=function(){return this.rowCount};A.prototype.getSearchPhrase=function(){return this.searchPhrase};A.prototype.getSelectedRows=function(){return z.merge([],this.selectedRows)};A.prototype.getSelectedRowsObj=function(){return z.merge([],this.selectedRowsObj)};A.prototype.getSortDictionary=function(){return z.extend({},this.sortDictionary)};A.prototype.getTotalPageCount=function(){return this.totalPages};A.prototype.getTotalRowCount=function(){return this.total};A.prototype.visibleColumns=function(P,R,S,O){var T=this;var U;if(P.length>0){var Q=function(W,V){z.each(T.columns,function(Y,X){if(X.id===W){X.visible=V;X.visibleInSelection=V;return false}})};while(P.length>0){U=P.pop();Q(U,R)}if(typeof S!=="undefined"&&S.length>0){while(S.length>0){U=S.pop();Q(U,O)}}m.call(this);F.call(this);l.call(this)}};z.fn.extend({_bgAria:function(O,P){return(P)?this.attr("aria-"+O,P):this.attr("aria-"+O)},_bgBusyAria:function(O){return(O==null||O)?this._bgAria("busy","true"):this._bgAria("busy","false")},_bgRemoveAria:function(O){return this.removeAttr("aria-"+O)},_bgEnableAria:function(O){return(O==null||O)?this.removeClass("disabled")._bgAria("disabled","false"):this.addClass("disabled")._bgAria("disabled","true")},_bgEnableField:function(O){return(O==null||O)?this.removeAttr("disabled"):this.attr("disabled","disable")},_bgShowAria:function(O){return(O==null||O)?this.show()._bgAria("hidden","false"):this.hide()._bgAria("hidden","true")},_bgSelectAria:function(O){return(O==null||O)?this.addClass("active")._bgAria("selected","true"):this.removeClass("active")._bgAria("selected","false")},_bgId:function(O){return(O)?this.attr("id",O):this.attr("id")}});if(!String.prototype.resolve){var h={"checked":function(O){if(typeof O==="boolean"){return(O)?'checked="checked"':""}return O}};String.prototype.resolve=function(Q,P){var O=this;z.each(Q,function(R,U){if(U!=null&&typeof U!=="function"){if(typeof U==="object"){var S=(P)?z.extend([],P):[];S.push(R);O=O.resolve(U,S)+""}else{if(h&&h[R]&&typeof h[R]==="function"){U=h[R](U)}R=(P)?P.join(".")+"."+R:R;var T=new RegExp("\\{\\{"+R+"\\}\\}","gm");O=O.replace(T,(U.replace)?U.replace(/\$/gi,"&#36;"):U)}}});return O}}if(!Array.prototype.first){Array.prototype.first=function(Q){for(var O=0;O<this.length;O++){var P=this[O];if(Q(P)){return P}}return null}}if(!Array.prototype.contains){Array.prototype.contains=function(Q){for(var O=0;O<this.length;O++){var P=this[O];if(Q(P)){return true}}return false}}if(!Array.prototype.page){Array.prototype.page=function(R,P){var Q=(R-1)*P,O=Q+P;return(this.length>Q)?(this.length>O)?this.slice(Q,O):this.slice(Q):[]}}if(!Array.prototype.where){Array.prototype.where=function(R){var O=[];for(var P=0;P<this.length;P++){var Q=this[P];if(R(Q)){O.push(Q)}}return O}}if(!Array.prototype.propValues){Array.prototype.propValues=function(Q){var O=[];for(var P=0;P<this.length;P++){O.push(this[P][Q])}return O}}var I=z.fn.bootgrid;z.fn.bootgrid=function(Q){var O=Array.prototype.slice.call(arguments,1),P=null,R=this.each(function(U){var V=z(this),S=V.data(G),T=typeof Q==="object"&&Q;if(!S&&Q==="destroy"){return}if(!S){V.data(G,(S=new A(this,T)));L.call(S)}if(typeof Q==="string"){if(Q.indexOf("get")===0&&U===0){P=S[Q].apply(S,O)}else{if(Q.indexOf("get")!==0){return S[Q].apply(S,O)}}}});return(typeof Q==="string"&&Q.indexOf("get")===0)?P:R};z.fn.bootgrid.Constructor=A;z.fn.bootgrid.noConflict=function(){z.fn.bootgrid=I;return this};z('[data-toggle="bootgrid"]').bootgrid()}));